三、功能性需求
==============
3.1环境分析
--------------------
Android 平台的体系结构通常由四层构成。这四层分别为应用程序层、应用程序框架层、系统库和运行库、内核层。

* 1. 应用程序层 

本层中主要的职能在于与用户界面直接进行沟通，最主要的就是通过界面用户进行交互作用，通常在这一层中的开发会选择使用 Java 语言。 

* 2. 应用程序框架层
 
在本层中主要提供的是框架，为开发人员提供各种可用的管理器、服务、控件和即时通讯等功能。利用 API 中的个性化服务来实现对程序打开，这也从侧面反映出了安卓系统具有了非常独特的开源性。 

* 3. 系统库和 Android 运行库
 
本层作为 Android 系统的中间层，其中主要使用的是 C 语言的数据库，并且会使用一些相应库中提供的接口。而对于系统的数据库中主要使用的是 C 语言的函数库，对于 Linux 系统设备在应用过程中可以使用；媒体库则可以处理视、音频文件，并且处理其他日常音频文件所需要的方式；SQLite 数据库则为一种轻量级的事情但也相应的功能要非常齐全，因此很多软件都能使用只数据库；通过界面管理的功能可以对用户使用的界面进行更改和修饰。 核心库和虚拟机则构成了安卓系统的运行库。Java 和安卓系统都各自有其相应的核心库，但是其功能却有许多相似的地方。所以在对安卓平台的软件进行开发的过程中，可以同样调用核心库中的东西来避免在书写代码的过程中使用重复的问题，直接使用通用的接口。 

* 4. 内核层 

在内核层中主要的是包括各种硬件使用的驱动，通过这些驱动来保证硬件和软件相结合进行正常的运行工作，而这也就是系统的核心，Android 系统基于 Linux 平台，使用其内核来提供服务，所以也就是可以在保证硬件和软件相互沟通的抽象层。

3.2功能性需求
-------------------
在系统设计前需要对其功能进行分析，对于网上点餐系统来说，主要分为两个部分来完成——前台客户端系统和后台客户端。前台主要是负责客户对菜品进行点餐，后台主要是负责商家接单和厨房对菜品的反馈。

3.2.1客户点餐
++++++++++++++++++

客户登录软件界面，需要有以下七个功能：

* 1. 登录和注册功能：使用者需要填写相应的注册信息，现在通常都是用手机号进行注册，当注册完后将会成为系统会员，成为会员以后可以根据商家提供的不同折扣享受不同的优惠，并且在日后的各种商家活动中会员都能够享受一定的优惠。在注册完成后可以通过手机号登录，登录了以后将可以使用相应的功能。 

* 2. 就近供餐：当客户使用了帐号登录后，可以根据自己相应的位置进行定位，选择附近的食品供应。另外，可以选择相应的距离分类来讲商户分开查询，选择自己距离较近的商户或者是有供餐需要的商户来进行查询分类，这时系统才会返回查询结果。 

* 3. 选择餐饮需求：在订餐的过程中，可以根据自己的需要选择订餐的要求，将相应的产品需要放在系统中，供餐方就可以看到客户所提出的要求，以便让供餐方选择食品来进行准备食材。用户将自己选择的菜品发布出去后则可以让商家来选择是否接受你订餐请求，在商家接受后，商家会为客户发布相应的回应信息，来满足客户要求。 

* 4. 购物车：在客户使用的过程中，将订好的食物和相应的数量的加入到购物车中，类似于淘宝选择商品一样，然后进入购物车中可以看到自己选择商品，最后直接在购物车中完成结账下单的操作。 

* 5. 点餐功能：在进入了客户端后，用户可以选择相应的商家，进入商家以后选择所需要的菜品，商家会将所发布的菜品价格份数单都发布在客户端中。客户根据自己的选择，喜爱和口味来选择所需要的菜品。在选择完后将会将菜品加入到购物车中，如果菜品销售完毕后，系统会告知用户菜品售罄。在完成了订单并成功付款后，这有商家客户端去接收订单信息，商家只会按照订单信息来制作所需要的菜品。服务器会对系统中菜品进行记录，并将菜品的销售数量记录在数据库中。 

* 6. 订单管理：在选择产品后，则进入结算界面，在完成了订单后，显示出所需要的总价格、客户享受的折扣或者优惠券减去的金额后，则可以直接进行支付功能。在支付完成后则需要输入正确的电话号码和送货地址，在商家接单后按指定的信息进行配送，并在相关界面生成订单的状态和相关信息。 

* 7. 反馈功能：在用户完成了订单后并且确认货品送达后，可以进行反馈，将用户的评价写入系统中，最后可以发布在每一个菜品中，以便后续的用户可以查阅评价信息，商家也可以根据用户的反馈意见来修改自己的菜品达到更好的改进目的。

3.2.2商家管理
+++++++++++++++++++
商家软件的管理界面，需要有以下三个功能：

* 1. 菜品供应：供餐方可以根据自己店面情况发布相关的菜品，包括套餐。发布相应的品种、数量和价格等相关信息。 

* 2. 接单信息：在商家根据客户的点单后，可以选择接单，接单情况将会返回到客户的信息中，当长时间商家不接单，则会将定点取消，并将客户支付的费用退回给用户，提醒用户选择其他商家。

* 3. 附近需求：在用户与商家所发布的需求相对应时，则系统将会自动匹配到当前位置的需要，可以根据自己所准备的菜品来完成匹配，若接受了这个菜品的订单，只可以发布到用户的手机中，静音提示，表示商家简单并完成想通。

3.2.3系统管理
+++++++++++++++++++
系统管理员需要最高的权限来管理软件，需要以下四个方面：

* 1. 用户管理：管理用户可以通过用户管理功能来完成对系统用户的相关信息管理，包括权限设置等进行动态修改。 

* 2. 订单记录管理：对消费者的订单进行管理，并且可以供用户查询订单情况。 

* 3. 消费情况：用户可以查询自己的消费情况，这些情况也会被保存到系统的数据库中。 

* 4. 系统管理：管理注册用户信息，对数据库内的信息进行整理和备份，完成后期系统的升级维护。

3.3用例
-------------------
此网上点餐系统用户分为：系统管理员、商家管理员、顾客用户和厨师用户，不同的用户对应着不同的功能。管理人员通过对系统订单进行更新，发布自己的菜品。而客户通过访问浏览菜谱，进行生成订单等操作。

- 系统管理员：

对于系统管理员的功能来划分，主要分为对用户角色进行管理和对权限进行管理，通常进行增删改查的操作。

- 商家管理员： 

商家管理员主要负责对商店内的菜谱、订单等相关信息进行管理操作，可以更改菜单的内容，并对商家内接到的订单进行管理。主要分为菜谱管理、餐桌管理、订单跟踪、信息更新和界面定制。

- 顾客用户：

系统中的顾客角色主要是访问系统中提供的各种商家的信息，浏览商家提供的菜谱，选择合适的菜品，最终生成订单。其中主要包括浏览功能、订单生成功能和参评的评价功能。

- 厨师用户：

在订单发送后，厨师接受订单，然后再确认订单信息，将订单内容反馈回系统内，由系统发回用户，提示用户已经收到订单。厨师方面则负责浏览订单和设置做菜任务。
